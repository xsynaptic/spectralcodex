---
import type { HTMLAttributes } from 'astro/types';

import type { ImageLayout } from '#lib/image/image-layout.ts';

import ImageComponent from '#components/image/image-component.astro';

interface Props extends HTMLAttributes<'figure'> {
	src: string;
	alt?: string;
	layout?: ImageLayout;
}

const { src: imageId, ...props } = Astro.props;
---

{
	imageId ? (
		<ImageComponent imageId={imageId} showMetadata={true} {...props}>
			<slot />
		</ImageComponent>
	) : undefined
}
