---
import type { HTMLAttributes } from 'astro/types';

import type { ImageLayout } from '#lib/image/image-layout.ts';

import ContentImage from '#components/content/content-image.astro';

interface Props extends HTMLAttributes<'figure'> {
	src: string;
	alt?: string;
	layout?: ImageLayout;
}

const { src: imageId, ...props } = Astro.props;
---

{
	imageId ? (
		<ContentImage imageId={imageId} showMetadata={true} {...props}>
			<slot />
		</ContentImage>
	) : undefined
}
