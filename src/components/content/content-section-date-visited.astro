---
import ContentSection from '#components/content/content-section.astro';
import DateDisplay from '#components/parts/date-display.astro';
import ListColumnItem from '#components/parts/list-column-item.astro';
import ListColumn from '#components/parts/list-column.astro';
import { getTranslations } from '#lib/i18n/i18n-translations.ts';
import { DatePresetEnum } from '#lib/utils/date.ts';

interface Props {
	dateVisited: Date | Array<Date> | undefined;
}

const { dateVisited, ...props } = Astro.props;

const t = getTranslations();
---

{
	dateVisited ? (
		<ContentSection data-pagefind-ignore {...props}>
			<Fragment slot="section-title">{t('content.section.dateVisited')}</Fragment>
			<ListColumn class="font-serif text-xs sm:text-sm">
				{Array.isArray(dateVisited) ? (
					dateVisited
						.sort((a, b) => b.valueOf() - a.valueOf())
						.map((dateVisited) => (
							<ListColumnItem>
								<DateDisplay date={dateVisited} datePreset={DatePresetEnum.Medium} />
							</ListColumnItem>
						))
				) : (
					<ListColumnItem>
						<DateDisplay date={dateVisited} datePreset={DatePresetEnum.Medium} />
					</ListColumnItem>
				)}
			</ListColumn>
		</ContentSection>
	) : undefined
}
