---
import type { ContentMetadataItem } from '#lib/metadata/metadata-types.ts';

import ContentSection from '#components/content/content-section.astro';
import ListColumnItem from '#components/list/list-column-item.astro';
import ListColumn from '#components/list/list-column.astro';
import Link from '#components/parts/link.astro';
import Multilingual from '#components/parts/multilingual.astro';
import { getTranslations } from '#lib/i18n/i18n-translations.ts';

interface Props {
	backlinks: Array<ContentMetadataItem> | undefined;
}

const { backlinks, ...props } = Astro.props;

const t = getTranslations();
---

{
	backlinks && backlinks.length > 0 ? (
		<ContentSection data-pagefind-ignore {...props}>
			<Fragment slot="section-title">{t('content.section.backlinks')}</Fragment>
			<ListColumn class="font-serif text-xs sm:text-sm">
				{backlinks.map(({ url, title, titleMultilingual }) => (
					<ListColumnItem>
						<Link href={url}>{title}</Link>
						{titleMultilingual ? (
							<Multilingual
								content={titleMultilingual}
								parenthesis={true}
								class="text-primary-600 dark:text-primary-400"
							/>
						) : undefined}
					</ListColumnItem>
				))}
			</ListColumn>
		</ContentSection>
	) : undefined
}
