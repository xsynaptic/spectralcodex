---
import type { MapComponentData } from '@spectralcodex/react-map-component';

import ContentSection from '#components/content/content-section.astro';
import MapComponent from '#components/map/map-component.astro';
import { getTranslations } from '#lib/i18n/i18n-translations.ts';

interface Props {
	mapData: MapComponentData;
	persistId?: string | undefined;
}

const {
	mapData: { hasGeodata, ...mapComponentProps },
	persistId,
	...props
} = Astro.props;

const t = getTranslations();
---

{
	hasGeodata ? (
		<ContentSection fillViewport={true} data-pagefind-ignore {...props}>
			<Fragment slot="section-title">{t('content.section.map')}</Fragment>
			<MapComponent persistId={persistId} mapComponentProps={mapComponentProps} />
			<slot />
		</ContentSection>
	) : undefined
}
