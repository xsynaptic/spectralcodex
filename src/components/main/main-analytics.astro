---
import { UMAMI_DOMAIN, UMAMI_ID } from 'astro:env/client';

interface Props {
	isProduction: boolean;
	isViewTransitionsEnabled: boolean;
}

const { isProduction, isViewTransitionsEnabled } = Astro.props;
---

{
	isProduction && UMAMI_DOMAIN && UMAMI_ID ? (
		<script
			defer
			src={`${UMAMI_DOMAIN}/script.js`}
			data-website-id={UMAMI_ID}
			{...(isViewTransitionsEnabled ? { 'data-astro-rerun': '' } : {})}
			is:inline
		/>
	) : undefined
}
