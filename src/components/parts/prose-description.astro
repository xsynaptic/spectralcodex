---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'div'> {
	class?: string | undefined;
	showCompact?: boolean | undefined;
	darkMode?: boolean | undefined;
}

const { class: className, showCompact, darkMode = true, ...props } = Astro.props;
---

<div
	class:list={[
		'prose prose-primary max-w-none font-serif',
		darkMode ? 'dark:prose-invert' : undefined,
		'prose-a:underline-offset-2 prose-a:transition-colors prose-a:duration-150 prose-a:ease-in',
		'prose-a:text-accent-500 prose-a:decoration-accent-200 prose-a:hover:text-accent-300 prose-a:hover:decoration-accent-100',
		darkMode
			? 'dark:prose-a:text-accent-300 dark:prose-a:decoration-accent-500 dark:prose-a:hover:text-accent-200 dark:prose-a:hover:decoration-accent-400'
			: undefined,
		'prose-h2:mb-small',
		showCompact ? 'prose-xs lg:prose-sm' : 'prose-base lg:prose-lg',
		className,
	]}
	{...props}
>
	<slot />
</div>
